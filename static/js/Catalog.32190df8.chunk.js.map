{"version":3,"file":"static/js/Catalog.32190df8.chunk.js","mappings":"2KAcA,MAyFA,EAzFgBA,KACd,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAASC,IAAcF,EAAAA,EAAAA,UAAS,IAChCG,EAAYC,IAAiBJ,EAAAA,EAAAA,UAAS,IACtCK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,KAC5BO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,IACnCS,EAAY,CAAC,KAAM,IAAK,IAAK,IAAK,MAElCC,EAAYC,UAChB,IACE,MAAM,KAAEC,SAAeC,EAAAA,EAAMC,IAAI,iDAADC,OACmBd,EAAO,aAE1DF,EAASa,EAAKd,OACdM,EAAcQ,EAAKI,KAAKC,aAExB,MAAMC,EAAoBT,EACvBU,KAAKC,IAGJ,GAFcR,EAAKd,MAAMuB,QAAQC,GAASA,EAAKF,OAASA,IAAMG,OAG5D,OAAOH,CACT,IAEDC,QAAQD,GAASA,IAEpBd,EAASY,EACX,CAAE,MAAOM,GACPC,QAAQD,MAAM,kBAAmBA,EAAME,QACzC,GAsCF,OAfAC,EAAAA,EAAAA,YAAU,KACQhB,WACVJ,EAASgB,cACLb,IAvBakB,MACvB,IAAIC,EAAgB,GACpBA,EAAgBA,EAAcd,OAAOe,MACnCD,EACAtB,EAASY,KAAKC,GACStB,EAClBuB,QAAQC,IACP,GAAIA,EAAKF,OAASA,EAChB,OAAOE,CACT,IAEDD,QAAQU,GAAMA,OAMrBhC,EAAS8B,EAAc,EAQnBD,UAEMlB,GACR,EAGFsB,GACAC,OAAOC,SAAS,EAAG,EAAE,GACpB,CAACjC,EAASM,KAGX4B,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,KACPD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,YAAWH,UACxBC,EAAAA,EAAAA,KAACG,EAAAA,GAAO,OAEVH,EAAAA,EAAAA,KAACI,EAAAA,GAAU,CAACrC,MAAOA,EAAOG,YAAaA,KACvC2B,EAAAA,EAAAA,MAAA,OAAKK,UAAU,kBAAiBH,SAAA,EAC9BC,EAAAA,EAAAA,KAACK,EAAAA,GAAK,CAAC7C,MAAOA,KACdwC,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CACT3C,QAASA,EACTC,WAAYA,EACZC,WAAYA,QAGhBmC,EAAAA,EAAAA,KAACO,EAAAA,GAAQ,KACTP,EAAAA,EAAAA,KAACQ,EAAAA,GAAS,KACVR,EAAAA,EAAAA,KAACS,EAAAA,GAAM,MACN,C","sources":["pages/Catalog.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Header,\r\n  TopHead,\r\n  FilterSort,\r\n  Items,\r\n  Pagination,\r\n  Features,\r\n  Subscribe,\r\n  Footer,\r\n} from \"../components\";\r\n\r\nconst Catalog = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [curPage, setCurPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [sizes, setSizes] = useState([]);\r\n  const [curSizes, setCurSizes] = useState([]);\r\n  const sizesList = [\"XS\", \"S\", \"M\", \"L\", \"XL\"];\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const { data } = await axios.get(\r\n        `https://b24940cdae2d60eb.mokky.dev/items?page=${curPage}&limit=4`\r\n      );\r\n      setItems(data.items);\r\n      setTotalPages(data.meta.total_pages);\r\n\r\n      const sizesFromResponse = sizesList\r\n        .map((size) => {\r\n          const check = data.items.filter((item) => item.size === size).length;\r\n\r\n          if (check) {\r\n            return size;\r\n          }\r\n        })\r\n        .filter((size) => size);\r\n\r\n      setSizes(sizesFromResponse);\r\n    } catch (error) {\r\n      console.error(\"Error fetching:\", error.message);\r\n    }\r\n  };\r\n\r\n  const setFilteredItems = () => {\r\n    let filteredItems = [];\r\n    filteredItems = filteredItems.concat.apply(\r\n      filteredItems,\r\n      curSizes.map((size) => {\r\n        const itemsPerSize = items\r\n          .filter((item) => {\r\n            if (item.size === size) {\r\n              return item;\r\n            }\r\n          })\r\n          .filter((i) => i);\r\n\r\n        return itemsPerSize;\r\n      })\r\n    );\r\n\r\n    setItems(filteredItems);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      if (curSizes.length) {\r\n        await fetchData();\r\n\r\n        setFilteredItems();\r\n      } else {\r\n        await fetchData();\r\n      }\r\n    };\r\n\r\n    getData();\r\n    window.scrollTo(0, 0);\r\n  }, [curPage, curSizes]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"center bg\">\r\n        <TopHead />\r\n      </div>\r\n      <FilterSort sizes={sizes} setCurSizes={setCurSizes} />\r\n      <div className=\"products center\">\r\n        <Items items={items} />\r\n        <Pagination\r\n          curPage={curPage}\r\n          setCurPage={setCurPage}\r\n          totalPages={totalPages}\r\n        />\r\n      </div>\r\n      <Features />\r\n      <Subscribe />\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n"],"names":["Catalog","items","setItems","useState","curPage","setCurPage","totalPages","setTotalPages","sizes","setSizes","curSizes","setCurSizes","sizesList","fetchData","async","data","axios","get","concat","meta","total_pages","sizesFromResponse","map","size","filter","item","length","error","console","message","useEffect","setFilteredItems","filteredItems","apply","i","getData","window","scrollTo","_jsxs","_Fragment","children","_jsx","Header","className","TopHead","FilterSort","Items","Pagination","Features","Subscribe","Footer"],"sourceRoot":""}